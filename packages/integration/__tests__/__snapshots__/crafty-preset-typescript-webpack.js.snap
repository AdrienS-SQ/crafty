// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Compiles TypeScript 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/compiles/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                                                       status
  1 kB  66       ./js/script.ts + 1 modules                                   built
  1 kB  115      (node_modules)/@babel/runtime/helpers/esm/createClass.js     built
  1 kB  809      (node_modules)/@babel/runtime/helpers/esm/classCallCheck.js  built
  1 kB  944      ./js/SomeLibrary.ts                                          built

  size  name     asset                                                        status
  1 kB  js       944.myBundle.min.js                                          emitted
  1 kB  map      944.myBundle.min.js.map                                      emitted
  1 kB  ts       js/Component.d.ts                                            emitted
  1 kB  ts       js/SomeLibrary.d.ts                                          emitted
  1 kB  ts       js/script.d.ts                                               emitted
  1 kB  default  myBundle.min.js                                              emitted
  1 kB  default  myBundle.min.js.map                                          emitted

  (7 modules hidden)

  Compiled successfully!
  Δt ____ms

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;

exports[`Compiles TypeScript 2`] = `
"(function(e,n){if(\\"object\\"===typeof exports&&\\"object\\"===typeof module)module.exports=n();else if(\\"function\\"===typeof define&&define.amd)define([],n);else{var t=n();for(var r in t)(\\"object\\"===typeof exports?exports:e)[r]=t[r]}})(window,function(){return function(e,n){\\"use strict\\";var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:false,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=true,o.exports}function o(){return r(66)}return r.m=e,n(r),o()}({115:function(e,n,t){\\"use strict\\";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||false,r.configurable=true,\\"value\\"in r&&(r.writable=true),Object.defineProperty(e,r.key,r)}}function o(e,n,t){return n&&r(e.prototype,n),t&&r(e,t),e}t.d(n,\\"a\\",function(){return o})},66:function(e,n,t){\\"use strict\\";t.r(n);var r=t(809);var o=t(115);function u(e,n){return e+n}t.d(n,\\"default\\",function(){return i});var i=function(){function e(){Object(r.a)(this,e),console.log(\\"init class\\")}return Object(o.a)(e,[{key:\\"method\\",value:function(){console.log(u(2,4)),t.e(944).then(t.bind(null,944)).then(function(e){var n=new e.default;console.log(n.add(2,4))})}}]),e}()},809:function(e,n,t){\\"use strict\\";function r(e,n){if(!(e instanceof n))throw new TypeError(\\"Cannot call a class as a function\\")}t.d(n,\\"a\\",function(){return r})}},function(e){\\"use strict\\";!function(){e.r=function(e){\\"undefined\\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\"Module\\"}),Object.defineProperty(e,\\"__esModule\\",{value:true})}}(),function(){var n=Object.prototype.hasOwnProperty;e.d=function(e,t,r){n.call(e,t)||Object.defineProperty(e,t,{enumerable:true,get:r})}}(),function(){e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,\\"a\\",t),t}}(),function(){e.f={},e.e=function(n){return Promise.all(Object.keys(e.f).reduce(function(t,r){return e.f[r](n,t),t},[]))}}(),function(){e.p=\\"\\"}(),function(){e.u=function(e){return e+\\".myBundle.min.js\\"}}(),function(){var n={296:0};function t(t){var r=t[0];var o=t[1];var i=t[3];var c,a,f=0,l=[];for(;f<r.length;f++)a=r[f],n[a]&&l.push(n[a][0]),n[a]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e.m[c]=o[c]);i&&i(e),u&&u(t);while(l.length)l.shift()()}e.f.j=function(t,r){var o=n[t];if(0!==o)if(o)r.push(o[2]);else{var u=new Promise(function(e,r){o=n[t]=[e,r]});r.push(o[2]=u);var i=e.p+e.u(t);var c=function(){if(n[t])return n[t][1];0!==n[t]&&(n[t]=void 0)};var a=document.createElement(\\"script\\");var f;a.charset=\\"utf-8\\",a.timeout=120,e.nc&&a.setAttribute(\\"nonce\\",e.nc),a.src=i,f=function(e){a.onerror=a.onload=null,clearTimeout(l);var n=c();if(n){var r=e&&(\\"load\\"===e.type?\\"missing\\":e.type);var o=e&&e.target&&e.target.src;var u=new Error(\\"Loading chunk \\"+t+\\" failed.\\\\n(\\"+r+\\": \\"+o+\\")\\");u.type=r,u.request=o,n(u)}};var l=setTimeout(function(){f({type:\\"timeout\\",target:a})},12e4);a.onerror=a.onload=f,document.head.appendChild(a)}};var r=window.webpackJsonp=window.webpackJsonp||[];var o=r.push.bind(r);r.push=t;var u=o}()})});
//# sourceMappingURL=myBundle.min.js.map"
`;

exports[`Compiles TypeScript 3`] = `
"(window.webpackJsonp=window.webpackJsonp||[]).push([[944],{944:function(n,t,u){\\"use strict\\";u.r(t),u.d(t,\\"default\\",function(){return a});var e=u(809);var r=u(115);var a=function(){function n(){Object(e.a)(this,n)}return Object(r.a)(n,[{key:\\"add\\",value:function(n,t){return n+t}},{key:\\"substract\\",value:function(n,t){return n-t}},{key:\\"divide\\",value:function(n,t){return n/t}}]),n}()}}]);
//# sourceMappingURL=944.myBundle.min.js.map"
`;

exports[`Fails gracefully on broken markup 1`] = `
Object {
  "status": 1,
  "stderr": "[__:__:__] 'js_myTSBundle' errored after ____ ms
[__:__:__] Error: Webpack compilation failed
    ...stacktrace...
[__:__:__] 'js' errored after ____ ms
[__:__:__] 'default' errored after ____ ms
",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/fails/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myTSBundle' ...
  size  name     module                          status
  1 kB  370      ./js/typescript.ts + 2 modules  built ⚠

  size  name     asset                           status
  1 kB  ts       js/typescript.d.ts
  1 kB  default  myTSBundle.min.js
  1 kB  default  myTSBundle.min.js.map

  (2 modules hidden)

  Failed to compile.

[tsl] ERROR in __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/fails/js/typescript.ts(14,1)
      TS1068: Unexpected token. A constructor, method, accessor, or property was expected.

  Δt ____ms ✖ 2 problems (1 error, 1 warning)

",
}
`;

exports[`Lints TypeScript with webpack 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/lints/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                                                       status
  1 kB  66       ./js/script.ts + 1 modules                                   built ⚠
  1 kB  115      (node_modules)/@babel/runtime/helpers/esm/createClass.js     built
  1 kB  809      (node_modules)/@babel/runtime/helpers/esm/classCallCheck.js  built
  1 kB  944      ./js/SomeLibrary.ts                                          built ⚠

  size  name     asset                                                        status
  1 kB  js       944.myBundle.min.js                                          emitted
  1 kB  map      944.myBundle.min.js.map                                      emitted
  1 kB  ts       js/Component.d.ts                                            emitted
  1 kB  ts       js/SomeLibrary.d.ts                                          emitted
  1 kB  ts       js/script.d.ts                                               emitted
  1 kB  default  myBundle.min.js                                              emitted
  1 kB  default  myBundle.min.js.map                                          emitted

  (7 modules hidden)

  Compiled with warnings.

__PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/lints/js/Component.ts:2:24
ERROR: 2:24  whitespace       missing whitespace
ERROR: 3:18  no-multi-spaces  Multiple spaces found before 'b'.

__PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/lints/js/SomeLibrary.ts:12:5
ERROR: 12:5  one-line  misplaced opening brace

__PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/lints/js/script.ts:6:5
ERROR: 6:5   no-console  Calls to 'console.log' are not allowed.
ERROR: 10:5  no-console  Calls to 'console.log' are not allowed.
ERROR: 13:5  one-line    misplaced opening brace
ERROR: 16:7  no-console  Calls to 'console.log' are not allowed.
ERROR: 17:7  semicolon   Missing semicolon

  Δt ____ms ⚠  3 problems (0 errors, 3 warnings)

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;
