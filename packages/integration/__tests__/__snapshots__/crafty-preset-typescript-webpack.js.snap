// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Compiles TypeScript 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/compiles/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                      status
  1 kB  0        ./js/script.ts + 1 modules  built
  1 kB  1        multi ./js/script.ts        built
  1 kB  2        ./js/SomeLibrary.ts         built

  size  name     asset                       status
  1 kB  js       0.myBundle.min.js           emitted
  1 kB  map      0.myBundle.min.js.map       emitted
  1 kB  ts       js/Component.d.ts           emitted
  1 kB  ts       js/SomeLibrary.d.ts         emitted
  1 kB  ts       js/script.d.ts              emitted
  1 kB  default  myBundle.min.js             emitted
  1 kB  default  myBundle.min.js.map         emitted



  Compiled successfully!
  Δt ____ms

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;

exports[`Compiles TypeScript 2`] = `
"!function(e,t){if(\\"object\\"==typeof exports&&\\"object\\"==typeof module)module.exports=t();else if(\\"function\\"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)(\\"object\\"==typeof exports?exports:e)[o]=n[o]}}(window,function(){return function(e){function t(t){for(var n,r,u=t[0],i=t[1],f=0,l=[];f<u.length;f++)r=u[f],o[r]&&l.push(o[r][0]),o[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(c&&c(t);l.length;)l.shift()()}var n={},o={1:0};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var u=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=u);var i,f=document.getElementsByTagName(\\"head\\")[0],c=document.createElement(\\"script\\");c.charset=\\"utf-8\\",c.timeout=120,r.nc&&c.setAttribute(\\"nonce\\",r.nc),c.src=function(e){return r.p+\\"\\"+e+\\".myBundle.min.js\\"}(e),i=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&(\\"load\\"===t.type?\\"missing\\":t.type),u=t&&t.target&&t.target.src,i=new Error(\\"Loading chunk \\"+e+\\" failed.\\\\n(\\"+r+\\": \\"+u+\\")\\");i.type=r,i.request=u,n[1](i)}o[e]=void 0}};var l=setTimeout(function(){i({type:\\"timeout\\",target:c})},12e4);c.onerror=c.onload=i,f.appendChild(c)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\\"undefined\\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\\"Module\\"}),Object.defineProperty(e,\\"__esModule\\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\\"object\\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\\"default\\",{enumerable:!0,value:e}),2&t&&\\"string\\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\\"a\\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\\"\\",r.oe=function(e){throw console.error(e),e};var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var c=i;return r(r.s=1)}([function(e,t,n){\\"use strict\\";n.r(t);var o=function(){function e(){console.log(\\"init class\\")}return e.prototype.method=function(){console.log(2+4),n.e(0).then(n.bind(null,2)).then(function(e){var t=new e.default;console.log(t.add(2,4))})},e}();t.default=o},function(e,t,n){e.exports=n(0)}])});
//# sourceMappingURL=myBundle.min.js.map"
`;

exports[`Compiles TypeScript 3`] = `
"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2:function(t,n,o){\\"use strict\\";o.r(n);var r=function(){function t(){}return t.prototype.add=function(t,n){return t+n},t.prototype.substract=function(t,n){return t-n},t.prototype.divide=function(t,n){return t/n},t}();n.default=r}}]);
//# sourceMappingURL=0.myBundle.min.js.map"
`;

exports[`Fails gracefully on broken markup 1`] = `
Object {
  "status": 1,
  "stderr": "[js_myTSBundle] (!) __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/fails/js/typescript.ts(14,1): syntax error TS1068 Unexpected token. A constructor, method, accessor, or property was expected.
js/typescript.ts
[__:__:__] 'js_myTSBundle' errored after ____ ms
[__:__:__] Error: __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/fails/js/typescript.ts(14,1): syntax error TS1068 Unexpected token. A constructor, method, accessor, or property was expected.
    ...stacktrace...
[__:__:__] 'js' errored after ____ ms
[__:__:__] 'default' errored after ____ ms
",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/fails/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myTSBundle' ...
",
}
`;

exports[`Lints TypeScript with webpack 1`] = `
Object {
  "status": 0,
  "stderr": "",
  "stdout": "
[__:__:__] Starting Crafty __version__...
[__:__:__] Files will be stored in:
            js: __PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/lints/dist/js
[__:__:__] Starting 'default' ...
[__:__:__] Starting 'js' ...
[__:__:__] Starting 'js_myBundle' ...
  size  name     module                      status
  1 kB  0        ./js/script.ts + 1 modules  built ⚠
  1 kB  1        multi ./js/script.ts        built
  1 kB  2        ./js/SomeLibrary.ts         built ⚠

  size  name     asset                       status
  1 kB  js       0.myBundle.min.js           emitted
  1 kB  map      0.myBundle.min.js.map       emitted
  1 kB  ts       js/Component.d.ts           emitted
  1 kB  ts       js/SomeLibrary.d.ts         emitted
  1 kB  ts       js/script.d.ts              emitted
  1 kB  default  myBundle.min.js             emitted
  1 kB  default  myBundle.min.js.map         emitted



  Compiled with warnings.

./js/Component.ts
Module Warning (from __PATH__/node_modules/tslint-loader/index.js):
__PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/lints/js/Component.ts:2:24
ERROR: 2:24  whitespace       missing whitespace
ERROR: 3:18  no-multi-spaces  Multiple spaces found before 'b'.

 @ ./js/script.ts 1:0-35 7:20-24
 @ multi ./js/script.ts

./js/SomeLibrary.ts
Module Warning (from __PATH__/node_modules/tslint-loader/index.js):
__PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/lints/js/SomeLibrary.ts:12:5
ERROR: 12:5  one-line  misplaced opening brace

 @ ./js/script.ts 8:8-31
 @ multi ./js/script.ts

./js/script.ts
Module Warning (from __PATH__/node_modules/tslint-loader/index.js):
__PATH__/packages/integration/fixtures/crafty-preset-typescript-webpack/lints/js/script.ts:6:5
ERROR: 6:5   no-console  Calls to 'console.log' are not allowed.
ERROR: 10:5  no-console  Calls to 'console.log' are not allowed.
ERROR: 13:5  one-line    misplaced opening brace
ERROR: 16:7  no-console  Calls to 'console.log' are not allowed.
ERROR: 17:7  semicolon   Missing semicolon

 @ multi ./js/script.ts

  Δt ____ms ⚠  3 problems (0 errors, 3 warnings)

[__:__:__] Finished 'js_myBundle' after ____ ms
[__:__:__] Finished 'js' after ____ ms
[__:__:__] Finished 'default' after ____ ms
",
}
`;
